#!/usr/bin/env node

import { program } from 'commander'
import { devCommand } from '../dist/cli/dev.js'
import { buildCommand } from '../dist/cli/build.js'
import { createCommand } from '../dist/cli/create.js'
import { VERSION } from '../dist/index.js'

program
  .name('Gwack')
  .description('Gwack Framework CLI')
  .version(VERSION, "-v, --version", "Print the current version")

// Dev command
program
  .command('dev')
  .description('Start development server')
  .option('-p, --port <port>', 'Frontend port', '3000')
  .option('--php-port <port>', 'PHP server port', '8080')
  .option('-h, --host <host>', 'Host to bind to', 'localhost')
  .action(devCommand)

// Build command
program
  .command('build')
  .description('Build the application for production')
  .option('-o, --output <dir>', 'Output directory', '.output')
  .action(buildCommand)

// Create command
program
  .command('create <name>')
  .description('Create a new Gwack project')
  .option('-t, --template <template>', 'Project template', 'default')
  .action(createCommand)

program.parse(process.argv)
